---
title: bioRxiv 2017 update
author: Tim Stuart
date: '2017-10-04'
slug: biorxiv-2017-update
comments: true
layout: post
output:
  html_document:
    self_contained: false
    toc: true
    toc_float: false
    fig_caption: true
    fig_retina: true
    code_folding: show
    df_print: paged
    max.print: 10
    keep_md: true
---

```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(data.table)
library(dplyr)
library(ggplot2)
library(lubridate)

Sys.setenv(TZ="Australia/Perth")
```

```{r, message=FALSE, warning=FALSE}
collection_date <- ymd("2017_10_04")

dat <- fread("~/Documents/GitHub/biorxivData/data/biorxiv_data_2017_10_04.tsv") %>% 
  mutate(Age = collection_date - ymd(`Original submission`),
         Revised = `Original submission` != `Current submission`)
```

### Submissions over time

```{r, message=FALSE, warning=FALSE}
weekly <- dat %>%
  mutate(weeks_past = ceiling(Age / 7),
         `Submission week` = collection_date - weeks(weeks_past)) %>% 
  group_by(`Submission week`) %>%
  summarise(Submissions = n())

ggplot(weekly, aes(`Submission week`, Submissions)) +
  geom_point(stat = "identity") +
  geom_smooth() +
  ggtitle("bioRxiv submissions per week") +
  theme_bw()
```

Last year the number of weekly submissions peaked at around 60, now it's 5x higher hitting 300 per week earlier in 2017.

How many of these submissions get revised?

```{r}
dat %>% 
  group_by(Revised) %>%
  summarise(n = n(), `%` = n/nrow(dat) * 100)
```

This is almost exactly the same percentage as I found last year.

### 2017 highlights

What have been the most popular preprints so far this year?

```{r}
days <- collection_date - ymd('2017-01-01')

dat %>%
  filter(Age < days) %>% 
  arrange(desc(`PDF views`)) %>% 
  head(10) %>% 
  select(Title)
```

Some really topical stuff (not surprisingly): p-value controversies, single cell genomics, the index-switching catastrophe, and the recent Venter debacle.

### Data

The data is available on my [github](https://github.com/timoast/biorxivData) to explore.

